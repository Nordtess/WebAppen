# Layout Changes - Visual Quick Reference

## Key Changes Overview

### 1. Header Logo Removed ?
**Before:** `[??? Logo] ............... [??] [Text] [Email]`
**After:**  `[ ] ..................... [??] [Text] [Email]`

### 2. Mail Icon Always Shows ?
**Always rendered:** No authentication check (testing mode)
```
[?? icon] Du har 3 olästa meddelanden jamie@example.se
```

### 3. Mobile Sidebar Below Header ?
**Before:** Sidebar slides from left, covers entire screen including header
**After:** Sidebar slides DOWN from below header, header stays visible

### 4. Footer Inside Main Content ?
**Before:** Fixed grid area at bottom
**After:** Inside main, scrolls with content

---

## Desktop Layout (> 800px)

```
????????????????????????????????????????????????
?                     ?? 3 msgs  jamie@email   ?  70px Header
????????????????????????????????????????????????
?          ?                                   ?
? ?? Home  ?                                   ?
? ?? Sök   ?         MAIN CONTENT              ?
? ?? Proj  ?                                   ?
? ?? CV    ?         (scrollable)              ?
? ?? Msgs  ?                                   ?
? ?? Login ?                                   ?
? ? Ny    ?         ...scrolls...             ?
?          ?                                   ?
?          ?                                   ?
?          ?    ??????????????????????         ?
?          ?     © 2025 - Privacy              ?
?          ?   (footer inside main)            ?
????????????????????????????????????????????????
  240px         Flexible (scrolls)
```

**Features:**
- No hamburger button visible
- Sidebar always visible (240px)
- Mail icon + text + email in header right
- Only main content scrolls
- Footer at end of content

---

## Mobile Layout (<= 800px)

### Closed State (Default)
```
????????????????????????????????
? [?]         ?? 3 msgs        ?  60px Header (ALWAYS VISIBLE)
????????????????????????????????  ? Sidebar would slide down here
?                              ?
?                              ?
?       MAIN CONTENT           ?
?      (scrollable)            ?
?                              ?
?                              ?
?                              ?
?      ??????????????          ?
?      © 2025 - Privacy        ?
?    (footer inside main)      ?
????????????????????????????????
```

### Open State (Sidebar Expanded)
```
????????????????????????????????
? [?]         ?? 3 msgs        ?  60px Header (STAYS VISIBLE!)
????????????????????????????????
? ???????????????????????????? ?  ? Sidebar slides down
? ? ?? Home                  ? ?
? ? ?? Sök CV                ? ?
? ? ?? Alla projekt          ? ?
? ? ?? Mitt CV               ? ?
? ? ?? Meddelanden           ? ?
? ? ?? Logga in              ? ?
? ? ? Bli medlem            ? ?
? ???????????????????????????? ?
?                              ?
?     (DIMMED OVERLAY)         ?
?    Click anywhere to close   ?
?                              ?
????????????????????????????????
```

**Key Points:**
- ? Header NEVER covered (z-index: 1000)
- ? Hamburger ALWAYS clickable
- ? Sidebar slides down from below header
- ? Overlay dims area below header only

---

## Sidebar Positioning (Mobile)

### Calculation
```
Sidebar Top Position:
  = Header Height (60px)
  + Shell Padding (12px)
  + Shell Gap (12px)
  = 84px from top of viewport
```

### Visual
```
??????????????????????
?     HEADER         ?  60px
??????????????????????
?      12px gap      ?
??????????????????????  ? Sidebar starts here (84px from top)
?                    ?
?     SIDEBAR        ?
?    (slides in)     ?
?                    ?
??????????????????????
```

---

## Footer Behavior

### Before (Fixed Grid Area)
```
?????????????????
?   HEADER      ?
?????????????????
?   MAIN        ?
?  (scrolls)    ?
?               ?
?????????????????
?   FOOTER      ?  ? Always visible at bottom
?????????????????
```

### After (Inside Main Content)
```
?????????????????
?   HEADER      ?
?????????????????
?   MAIN        ?
?  (scrolls)    ?
?               ?
?   ...content  ?
?               ?
?   ?????????   ?
?   FOOTER      ?  ? Appears when scroll to bottom
?????????????????
```

**Benefits:**
- More space for content
- Natural document flow
- Footer appears at logical end

---

## Header User Area

### Desktop Display
```
????????????????????????????????????????????????
?                                              ?
?        [??] Du har 3 olästa meddelanden      ?
?             jamie@example.se                 ?
?                                              ?
????????????????????????????????????????????????
```

### Mobile Display
```
?????????????????????????????????
? [?]  [??] Du har 3 olästa     ?
?            meddelanden        ?
?????????????????????????????????
```
(Email hidden on mobile)

---

## Animation States (Mobile Sidebar)

### Closed ? Opening
```
Frame 1 (0ms):
????????????????????
?                  ?  max-height: 0

Frame 2 (150ms):
????????????????????
? ?? Home          ?  max-height: growing
? ?? Sök           ?

Frame 3 (300ms):
????????????????????
? ?? Home          ?
? ?? Sök CV        ?  max-height: full
? ?? Alla projekt  ?
? ?? Mitt CV       ?
? ?? Meddelanden   ?
? ?? Logga in      ?
? ? Bli medlem    ?
????????????????????
```

### Open ? Closing
```
Reverse animation (300ms)
max-height: full ? 0
padding: 12px ? 0
```

---

## Interaction Flow

### Opening Sidebar (Mobile)
1. User taps **hamburger** (?)
2. JavaScript adds `.open` class to sidebar
3. CSS transitions `max-height: 0` ? `max-height: calc(...)`
4. JavaScript adds `.active` class to overlay
5. Overlay fades in (opacity: 0 ? 1)
6. Hamburger icon animates to X
7. ARIA: `aria-expanded="false"` ? `"true"`

### Closing Sidebar (3 Ways)
**Method 1: Hamburger Click**
1. User taps hamburger again
2. Reverses opening animation

**Method 2: Overlay Click**
1. User taps dimmed area
2. Immediately closes sidebar

**Method 3: ESC Key**
1. User presses Escape
2. Immediately closes sidebar

**Method 4: Link Click**
1. User taps any sidebar link
2. Closes sidebar + navigates

---

## CSS Classes Reference

### Header
- `.app-header` - Header container
- `.header-content` - Flexbox wrapper
- `.header-left` - Left side (hamburger)
- `.header-user-area` - Right side user info
- `.hamburger-btn` - Mobile menu button
- `.hamburger-line` - Burger lines (3x)
- `.icon-mail` - Mail SVG icon
- `.unread-text` - Unread message text
- `.user-email` - User's email

### Sidebar
- `.app-sidebar` - Sidebar container
- `.app-sidebar.open` - Open state (mobile)
- `.sidebar-nav` - Nav links container
- `.sidebar-link` - Individual link
- `.sidebar-link.active` - Current page
- `.link-icon` - Icon (emoji)
- `.link-text` - Link text

### Overlay
- `.sidebar-overlay` - Dimmed background
- `.sidebar-overlay.active` - Visible state

### Footer
- `.app-footer` - Footer container (inside main)
- `.footer-content` - Footer text wrapper

---

## State Classes

```css
/* Sidebar states */
.app-sidebar { /* Closed (mobile) */ }
.app-sidebar.open { /* Open (mobile) */ }

/* Overlay states */
.sidebar-overlay { /* Hidden */ }
.sidebar-overlay.active { /* Visible */ }

/* Hamburger states */
.hamburger-btn[aria-expanded="false"] { /* Closed */ }
.hamburger-btn[aria-expanded="true"] { /* Open (X) */ }
```

---

## Z-Index Hierarchy

```
???????????????????????????????????
?  Header (z-index: 1000)         ?  ? Top layer (always visible)
???????????????????????????????????
?  Sidebar (z-index: 999)         ?  ? Below header
???????????????????????????????????
?  Overlay (z-index: 998)         ?  ? Below sidebar
???????????????????????????????????
?  Main Content (z-index: auto)   ?  ? Bottom layer
???????????????????????????????????
```

---

## Breakpoint Summary

### ONE Breakpoint Only
```css
@media (max-width: 800px) {
    /* All mobile styles */
}
```

### Desktop (801px+)
- Grid: 2 columns, 2 rows
- Sidebar: Always visible (240px)
- Hamburger: Hidden
- Footer: Inside main content

### Mobile (?800px)
- Grid: 1 column, 2 rows
- Sidebar: Slide-down below header
- Hamburger: Visible
- Footer: Inside main content

---

## Testing Quick Checks

### ? Desktop
- [ ] No hamburger visible
- [ ] Sidebar on left (240px)
- [ ] Mail icon + full text + email in header
- [ ] Only main scrolls
- [ ] Scroll down to see footer

### ? Mobile
- [ ] Hamburger visible (top-left)
- [ ] Sidebar hidden by default
- [ ] Tap hamburger ? sidebar slides down
- [ ] Header stays visible
- [ ] Hamburger still clickable
- [ ] Tap hamburger ? closes
- [ ] Tap overlay ? closes
- [ ] Press ESC ? closes
- [ ] Tap link ? closes + navigates
- [ ] Email hidden in header

### ? Footer
- [ ] Not fixed to bottom
- [ ] Scrolls with content
- [ ] Visible when scroll to end
- [ ] Has top border
